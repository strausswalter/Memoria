<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Bootstrap demo</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-iYQeCzEYFbKjA/T2uDLTpkwGzCiq6soy8tYaI1GyVh/UjpbCx/TYkiZhlZB6+fzT" crossorigin="anonymous">
</head>

<body>
    <div class="container">
        <div class="row">
            <form class="col-xs-12 mt-4">
                <div id="inputs"></div>
                    <!-- elementos abaixo serão criados via JavaScript -->
                        <!-- <div class="input-group mb-3">
                                <input type="text" class="form-control" placeholder="Nota 1">
                                </div> -->
                
                    <!-- Botão para criar elementos input -->
                    <button type="button" id="btn-add" class="btn btn-outline-primary">Adicionar Nota</button>

                    <!-- Botão para somar os conteudos dos elementos input -->
                    <button type="button" id="submit" class="btn btn-outline-primary">Calcular</button>
            </form>

        </div>
    </div>


<script>
    const input = document.querySelector('#inputs');

    document.querySelector('#btn-add').addEventListener('click', (event) => {
        
        const newElementCount = input.childElementCount + 1;

        const node = document.createElement('div');
        node.classList.add('input-group');
        node.classList.add('mb-3');
        
        
        
        const newInput = document.createElement('input');
        newInput.classList.add('form-control');
       
        newInput.setAttribute('placeholder', `Input ${newElementCount}`);
        newInput.setAttribute('type', 'number');//obrigar o usuário a digitar numeros

        node.appendChild(newInput);      
        input.appendChild(node);
      
    })

    document.querySelector('#submit').addEventListener('click', (event) => {
        const inputGroups = document.querySelectorAll('.input-group');

        // Não irá funcionar, pois retorna HTMLCollection de inputs, que não é editavel.
        // console.log(inputGroups);

        // Convertendo para array (editavel):
        // console.log(Array.from(inputGroups) )

        const inputGroupsArray = Array.from(inputGroups);

        // constante para receber as notas
        let notas = 0;
        i = 0; //contar quantas notas foram criadas

        // get cada chield de cada input criado
        for (const group of inputGroupsArray){
            notas += parseFloat(group.firstChild.value);
            i++;
        }

        //Mostra a média (notas dividido pela quantidade de inputs(provas))
        console.log(notas/i);

    })

</script>



    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-u1OknCvxWvY5kfmNBILK2hRnQC3Pr17a+RTT6rIHI7NnikvbZlHgTPOOmMi466C8"
        crossorigin="anonymous"></script>
</body>

</html>